import{_ as A,r as l,u as g,o as B,a,c as n,b as t,F as f,d as I,e as m,t as d,p as N,f as x}from"./index-22051e19.js";const T=c=>(N("data-v-e6909b37"),c=c(),x(),c),w={class:"container px-4 px-lg-5 mt-5"},D={key:0},S={key:1,class:"table"},j=T(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"Titre"),t("th",{scope:"col"},"Auteur"),t("th",{scope:"col"},"Ann√©e"),t("th",{scope:"col"},"Actions")])],-1)),C=["onClick"],L=["onClick"],O="https://my-json-server.typicode.com/dmitrijt9/book-api-mock/books",$="https://my-json-server.typicode.com/dmitrijt9/book-api-mock/authors",P={__name:"AdminBooksList",setup(c){const u=l([]),p=l([]),_=l(!1),r=g(),h=async()=>{const e=await m.get($);p.value=e.data},b=async()=>{const e=await m.get(O);u.value=e.data.map(s=>{const o=p.value.find(i=>i.id===s.author_id);return{...s,authorName:`${o.name} ${o.surname}`}}),_.value=!0};B(async()=>{await h(),await b()});const y=e=>{r.push({name:"detail",params:{id:e}})},k=()=>{r.push({name:"AdminNewBooks"})},v=e=>{r.push({name:"AdminBooksUpdate",params:{id:e}})};return(e,s)=>(a(),n("div",w,[_.value?(a(),n("table",S,[j,t("tbody",null,[(a(!0),n(f,null,I(u.value,o=>(a(),n("tr",{key:o.id},[t("td",null,d(o.title),1),t("td",null,d(o.authorName),1),t("td",null,d(o.releaseDate),1),t("td",null,[t("button",{onClick:i=>y(o.id),type:"button",class:"btn btn-primary btn-lg"},"üìñ Voir",8,C),t("button",{onClick:s[0]||(s[0]=i=>k()),type:"button",class:"btn btn-primary btn-lg"},"‚ûï Ajouter"),t("button",{onClick:i=>v(o.id),type:"button",class:"btn btn-primary btn-lg"},"‚ôªÔ∏è MAJ",8,L)])]))),128))])])):(a(),n("h3",D,"Data is loading ..."))]))}},U=A(P,[["__scopeId","data-v-e6909b37"]]);export{U as default};
